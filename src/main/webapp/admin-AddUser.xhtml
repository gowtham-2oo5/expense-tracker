<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Create new Users</title>
	<link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
		rel="stylesheet" />
</h:head>
<style>
/* Hide scrollbar for Chrome, Safari, and Edge */
::-webkit-scrollbar {
	display: none; /* Safari and Chrome */
}

/* Hide scrollbar for Firefox */
html {
	scrollbar-width: none; /* Firefox */
}

/* Hide scrollbar for Internet Explorer and Edge */
-ms-overflow-style














:







 







none














; /* Internet Explorer and Edge */
</style>


<h:body styleClass="flex bg-gray-900 text-gray-100">
	<aside
		class="flex flex-col w-64 h-screen px-5 py-8 overflow-y-auto bg-gray-800 border-r border-gray-700">
		<h:form>
			<h:commandLink action="#{redirectAdmin.backHome()}">
				<h2 class="text-2xl font-semibold text-white">SpendWise ðŸ’¸</h2>
			</h:commandLink>
		</h:form>

		<div class="flex flex-col justify-between flex-1 mt-6">
			<nav class="flex-1 -mx-3 space-y-3">
				<h:form>
					<h:commandLink
						styleClass="flex items-center px-3 py-2 text-gray-300 hover:text-white font-medium hover:bg-gray-700 rounded-lg transition-colors duration-300 transform"
						action="#{redirectAdmin.backHome()}">
						<h:graphicImage value="#{resource['images/new-home.png']}"
							styleClass="w-5 h-5" />
						<span class="mx-2 text-sm font-medium">Home</span>
					</h:commandLink>
				</h:form>
				<!--  MIGHT BE USEFUL
				<ui:repeat
					value="#{['Dashboard', 'Projects', 'Tasks', 'Reporting', 'Users', 'Setting']}"
					var="item">
					<a
						class="flex items-center px-3 py-2 text-gray-300 hover:text-white font-medium hover:bg-gray-700 rounded-lg transition-colors duration-300 transform"
						href="#"> <span class="mx-2 text-sm font-medium">#{item}</span>
					</a>
				</ui:repeat>
				 -->
				<h:panelGroup layout="block" styleClass="group">
					<h:panelGroup layout="block"
						styleClass="flex items-center px-3 py-2 text-gray-300 hover:text-white font-medium hover:bg-gray-700 rounded-lg transition-colors duration-300 transform cursor-pointer"
						onclick="toggleDetails(this)">
						<h:graphicImage value="#{resource['images/users.png']}"
							styleClass="w-5 h-5" />
						<h:outputText value="Users" styleClass="mx-2 text-sm font-medium" />
						<h:graphicImage value="#{resource['images/down.png']}"
							styleClass="w-5 h-5 ml-auto shrink-0 transition duration-300" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="mt-2 space-y-1 px-4"
						id="userDetails">
						<h:form>
							<h:panelGroup layout="block">
								<h:commandLink value="Create Individual User"
									action="#{redirectAdmin.addUsers()}"
									styleClass="flex items-center px-2 py-1 text-white bg-indigo-600 font-normal rounded-lg transition-colors duration-300 transform" />
							</h:panelGroup>
							<h:panelGroup layout="block">
								<h:commandLink action="#{redirectAdmin.manageUsers()}"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white">
										Manage Users
									</h:commandLink>
							</h:panelGroup>
						</h:form>
					</h:panelGroup>
				</h:panelGroup>

				<h:panelGroup layout="block" styleClass="group">
					<h:panelGroup layout="block"
						styleClass="flex items-center px-3 py-2 text-gray-300 hover:text-white font-medium hover:bg-gray-700 rounded-lg transition-colors duration-300 transform cursor-pointer"
						onclick="toggleDetails(this)">
						<h:graphicImage value="#{resource['images/corp.png']}"
							styleClass="w-5 h-5" />
						<h:outputText value="Corporate"
							styleClass="mx-2 text-sm font-medium" />
						<h:graphicImage value="#{resource['images/down.png']}"
							styleClass="w-5 h-5 ml-auto shrink-0 transition duration-300" />
					</h:panelGroup>
					<h:panelGroup layout="block"
						styleClass="mt-2 space-y-1 px-4 hidden" id="corpDetails">
						<h:form>
							<h:panelGroup layout="block">
								<h:commandLink action="#{redirectAdmin.createCompany()}"
									value="Create Company"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white" />
							</h:panelGroup>
							<h:panelGroup layout="block">
								<h:commandLink action="#{redirectAdmin.manageCorpUsers()}"
									value="Corporate Users"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white" />
							</h:panelGroup>
							<h:panelGroup layout="block">
								<h:commandLink value="Manage Companies"
									action="#{redirectAdmin.manageCompanies()}"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white" />
							</h:panelGroup>
						</h:form>
					</h:panelGroup>
				</h:panelGroup>

				<h:panelGroup layout="block" styleClass="group">
					<h:panelGroup layout="block"
						styleClass="flex items-center px-3 py-2 text-gray-300 hover:text-white font-medium hover:bg-gray-700 rounded-lg transition-colors duration-300 transform cursor-pointer"
						onclick="toggleDetails(this)">
						<h:graphicImage value="#{resource['images/expenses.png']}"
							styleClass="w-5 h-5" />
						<h:outputText value="Manage Expenses"
							styleClass="mx-2 text-sm font-medium" />
						<h:graphicImage value="#{resource['images/down.png']}"
							styleClass="w-5 h-5 ml-auto shrink-0 transition duration-300" />
					</h:panelGroup>
					<h:panelGroup layout="block"
						styleClass="mt-2 space-y-1 px-4 hidden" id="expensesDetails">
						<h:form>
							<h:panelGroup layout="block">
								<h:commandLink value="Add Expense"
									action="#{redirectAdmin.addExpense()}"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white" />
							</h:panelGroup>
							<h:panelGroup layout="block">
								<h:commandLink value="View All Expenses"
									action="#{redirectAdmin.manageExpenses()}"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white" />
							</h:panelGroup>

						</h:form>
					</h:panelGroup>
				</h:panelGroup>


				<h:panelGroup layout="block" styleClass="group">
					<h:panelGroup layout="block"
						styleClass="flex items-center px-3 py-2 text-gray-300 hover:text-white font-medium hover:bg-gray-700 rounded-lg transition-colors duration-300 transform cursor-pointer"
						onclick="toggleDetails(this)">
						<h:graphicImage value="#{resource['images/monay.png']}"
							styleClass="w-5 h-5" />
						<h:outputText value="Accounts"
							styleClass="mx-2 text-sm font-medium" />
						<h:graphicImage value="#{resource['images/down.png']}"
							styleClass="w-5 h-5 ml-auto shrink-0 transition duration-300" />
					</h:panelGroup>
					<h:panelGroup layout="block"
						styleClass="mt-2 space-y-1 px-4 hidden" id="accountsDetails">
						<h:form>
							<h:panelGroup layout="block">
								<h:commandLink value="Create Account"
									action="#{redirectAdmin.createAccount()}"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white" />
							</h:panelGroup>
							<h:panelGroup layout="block">
								<h:commandLink value="Manage Accounts"
									action="#{redirectAdmin.manageAccounts()}"
									styleClass="block rounded-lg px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-800 hover:text-white" />
							</h:panelGroup>
						</h:form>
					</h:panelGroup>
				</h:panelGroup>

				<h:panelGroup layout="block"
					styleClass="flex items-center px-3 py-2 text-gray-300 hover:text-white font-medium hover:bg-gray-700 rounded-lg transition-colors duration-300 transform">
					<h:graphicImage value="#{resource['images/admin.png']}"
						styleClass="w-5 h-5" />
					<h:form>
						<h:commandLink value="Create new Admin"
							action="#{redirectAdmin.createNewAdmin()}"
							styleClass="mx-2 text-sm font-medium" />
					</h:form>
				</h:panelGroup>

			</nav>

			<div class="mt-6">
				<div class="flex items-center justify-between mt-6">
					<h:form styleClass="flex items-center justify-between w-full">
						<h:commandLink action="#{redirectAdmin.accountSettings()}"
							styleClass="flex items-center gap-x-2">
							<h:graphicImage value="data:image/png;base64,#{admin.dp}"
								styleClass="object-cover rounded-full h-9 w-9" alt="avatar"
								rendered="#{not empty admin.dp}" />
							<span class="text-sm font-medium text-gray-200 truncate">#{admin.name}</span>
						</h:commandLink>
						<h:commandLink action="#{redirectAdmin.adminLogout()}">
							<h:graphicImage value="#{resource['images/logout.png']}"
								styleClass="w-5 h-5 transition duration-300" />
						</h:commandLink>
					</h:form>
				</div>
			</div>
		</div>
	</aside>


	<div class="flex-1 p-4 overflow-y-auto h-screen bg-gray-900">
		<div
			class="flex items-center justify-center border-2 border-gray-700 border-dashed h-screen rounded-lg">
			<section
				class="w-full max-w-2xl p-8 mx-auto rounded-lg shadow-lg bg-gray-800 border border-gray-700">
				<h2 class="text-2xl font-bold text-white mb-6">Fill this form
					to create a new user</h2>

				<h:form enctype="multipart/form-data"
					styleClass="max-w-2xl mx-auto p-6 bg-gray-800 rounded-lg shadow-lg">
					<div class="space-y-6">
						<div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
							<div>
								<h:outputLabel value="Name" for="name"
									styleClass="block text-sm font-medium text-gray-300 mb-2" />
								<h:inputText id="name" value="#{newUser.name}"
									styleClass="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
									a:placeholder="Enter admin name" />
							</div>
							<div>
								<h:outputLabel value="Username" for="username"
									styleClass="block text-sm font-medium text-gray-300 mb-2" />
								<h:inputText id="username" value="#{newUser.uname}"
									styleClass="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
									a:placeholder="Enter admin username" />
							</div>
						</div>

						<div class="col-span-2">
							<h:outputLabel value="Email Address" for="emailAddress"
								styleClass="block text-sm font-medium text-gray-300 mb-2" />
							<h:inputText id="emailAddress" value="#{newUser.mail}"
								type="email"
								styleClass="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
								a:placeholder="Enter admin email address" />
						</div>

						<!-- Dropdown for Working Role -->
						<div class="col-span-2">
							<h:outputLabel value="Working Role" for="workingRole"
								styleClass="block text-sm font-medium text-gray-300 mb-2" />
							<h:selectOneMenu id="workingRole" value="#{newUser.role}"
								styleClass="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent">
								<f:selectItem itemLabel="Select a role" itemValue="" />
								<f:selectItem itemLabel="Developer" itemValue="Developer" />
								<f:selectItem itemLabel="Designer" itemValue="Designer" />
								<f:selectItem itemLabel="Tester" itemValue="Tester" />
								<f:selectItem itemLabel="Manager" itemValue="Manager" />
								<f:selectItem itemLabel="Student" itemValue="Student" />
							</h:selectOneMenu>
						</div>

						<div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
							<div>
								<h:outputLabel value="Password" for="password"
									styleClass="block text-sm font-medium text-gray-300 mb-2" />
								<h:inputSecret id="password" value="#{newUser.password}"
									styleClass="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
									a:placeholder="Enter admin password" />
							</div>
							<div>
								<h:outputLabel value="Phone Number" for="phoneNumber"
									styleClass="block text-sm font-medium text-gray-300 mb-2" />
								<h:inputText id="phoneNumber" value="#{newUser.phone}"
									type="tel"
									styleClass="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
									a:placeholder="Enter admin phone number" />
							</div>
						</div>

						<div class="relative" id="dropzone-content">
							<h:inputFile id="dropzone-file" value="#{newUser.dp}"
								onchange="handleFileSelect(this)"
								styleClass="absolute inset-0 w-full h-full opacity-0 cursor-pointer" />
							<div
								class="flex flex-col items-center justify-center w-full p-4 border-2 border-gray-600 border-dashed rounded-lg bg-gray-700 hover:bg-gray-600">
								<h:graphicImage value="#{resource['images/dp.png']}"
									id="dropzone-preview" styleClass="w-8 h-8 mb-2" alt="" />
								<h:outputText value="Profile picture"
									styleClass="mb-1 text-sm font-medium text-gray-300"
									id="file-name" />
								<h:outputText value="Upload or drag &amp; drop your PNG / JPG"
									styleClass="text-xs text-gray-400" id="file-instruction" />
							</div>
						</div>

					</div>

					<div class="mt-8">
						<h:commandButton value="Save Changes"
							action="#{newUser.submit()}"
							styleClass="w-full px-4 py-3 text-lg font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-800" />
					</div>
				</h:form>

			</section>
		</div>
	</div>

	<h:outputScript>
    //<![CDATA[
    function toggleDetails(element) {
        var details = element.nextElementSibling;
        if (details.classList.contains('hidden')) {
            details.classList.remove('hidden');
            element.querySelector('img:last-child').style.transform = 'rotate(180deg)';
        } else {
            details.classList.add('hidden');
            element.querySelector('img:last-child').style.transform = 'rotate(0deg)';
        }
    }
    function handleFileSelect(input) {
    const file = input.files[0];
    const dropzoneContent = document.getElementById('dropzone-content');
    const previewImage = document.getElementById('j_idt71:dropzone-preview');
    const fileName = document.getElementById('j_idt71:file-name');
    const fileInstruction = document.getElementById('j_idt71:file-instruction');

    if (file) {
        // Read the file and set it as the source of the preview image
        const reader = new FileReader();
        reader.onload = function(e) {
            previewImage.src = e.target.result;
            previewImage.classList.remove('w-8', 'h-8');
            previewImage.classList.add('w-16', 'h-16', 'object-cover', 'rounded-full');
        }
        reader.readAsDataURL(file);

        // Update text content
        fileName.textContent = file.name;
        fileInstruction.textContent = 'Image selected';

        // Change border color to indicate success
        dropzoneContent.classList.remove('border-gray-600');
        dropzoneContent.classList.add('border-green-500');

        // Add a subtle animation
        dropzoneContent.classList.add('animate-pulse');
        setTimeout(() => {
            dropzoneContent.classList.remove('animate-pulse');
        }, 1000);
    }
}

    //]]>
	</h:outputScript>
</h:body>

</html>